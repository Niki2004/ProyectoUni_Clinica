@model string[]

@{
    ViewBag.Title = "Lista de PDFs";
}

<link href="~/CSS/PDF.css" rel="stylesheet" />

<div class="pdf-container">
    <div class="header"></div>
    <div class="navigation">
        <a href="@Url.Action("Empleados", "Empleados")" class="nav-btn">
            <i class="fas fa-home"></i> Inicio
        </a>
    </div>
    <div class="content-wrapper">
        <div class="title-section">
            <h2>Lista de PDFs</h2>
            <div class="title-decoration"></div>
        </div>

        @if (Model != null && Model.Length > 0)
        {
            <div class="pdf-grid">
                @foreach (var pdfPath in Model)
                {
                    var fileName = System.IO.Path.GetFileName(pdfPath);
                    var relativePath = Url.Content("~/Uploads/" + fileName);
                    var cleanName = System.Text.RegularExpressions.Regex.Replace(fileName, "^[a-f0-9-]+_", "");

                    <div class="pdf-card">
                        <div class="pdf-icon">
                            <i class="fas fa-file-pdf"></i>
                        </div>
                        <div class="pdf-content">
                            <h3 class="pdf-title">@cleanName</h3>
                            <div class="pdf-actions">
                                <a href="@relativePath" target="_blank" class="action-btn view-btn">
                                    <i class="fas fa-eye"></i> Ver
                                </a>
                                <a href="@relativePath" download="@fileName" class="action-btn download-btn">
                                    <i class="fas fa-download"></i> Descargar
                                </a>
                            </div>
                        </div>
                    </div>
                }
            </div>
        }
        else
        {
            <div class="empty-state">
                <i class="fas fa-folder-open"></i>
                <p>No se encontraron archivos PDF en la carpeta <strong>Uploads</strong>.</p>
            </div>
        }
    </div>
</div>

