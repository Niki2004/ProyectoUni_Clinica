@model string[]

@{
    ViewBag.Title = "Lista de PDFs";
}


<!-- Encabezado fijo (puedes quitarlo también si no lo necesitas) -->

<!-- Contenedor principal para el contenido -->
<div class="button-container">
    <div class="header"></div>
    <div style="text-align: center; margin-bottom: 20px;">
        <a href="@Url.Action("Empleados", "Empleados")" class="custom-btn">
            <i class="fas fa-home"></i> Inicio
        </a>
    </div>
    <div class="content-wrapper">
        <h2 class="text-center">Lista de PDFs</h2>


        @if (Model != null && Model.Length > 0)
        {
            <div class="table-responsive">
                <table class="table table-hover table-bordered text-center">
                    <thead class="table-dark">
                        <tr>
                            <th scope="col">Nombre del Archivo</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var pdfPath in Model)
                        {
                            var fileName = System.IO.Path.GetFileName(pdfPath);
                            var relativePath = Url.Content("~/Uploads/" + fileName);
                            var cleanName = System.Text.RegularExpressions.Regex.Replace(fileName, "^[a-f0-9-]+_", "");

                            <tr class="pdf-row">
                                <td>
                                    <span class="file-name">@cleanName</span>
                                    <div class="action-buttons">
                                        <a href="@relativePath" target="_blank" class="btn btn-sm btn-primary">
                                            <i class="bi bi-eye"></i> Ver
                                        </a>

                                        <a href="@relativePath" download="@fileName" class="btn btn-info btn-sm">
                                            Descargar
                                        </a>
                                    </div>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        }
        else
        {
            <div class="alert alert-warning text-center" role="alert">
                No se encontraron archivos PDF en la carpeta <strong>Uploads</strong>.
            </div>
        }
    </div>
</div>

<!-- Estilos -->
<style>
    :root {
        /* Variables de color */
        --primary-turquoise: #008B8B;
        --secondary-turquoise: #48D1CC;
        --hover-turquoise: #20B2AA;
        --background-light: #F5F5F5;
    }

    /* Body global */
    body {
        background-color: var(--background-light);
        font-family: Arial, sans-serif;
        margin: 0;
        min-height: 100vh;
    }

    /* Header fijo */
    .header {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        height: 50px;
        background-color: var(--primary-turquoise);
        z-index: 1001;
    }

    /* Contenedor principal */
    .button-container {
        /* Como ya no hay sidebar, podemos empezar en top: 50px y left: 0 */
        position: fixed;
        top: 50px; /* Altura del header */
        left: 0;
        right: 0;
        bottom: 0;
        overflow-y: auto;
        padding: 20px;
        background-color: var(--background-light);
    }

    /* Contenido */
    .content-wrapper {
        background-color: #fff;
        padding: 50px;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        margin-top: 20px;
        max-width: 1000px; /* Ancho máximo */
        margin-left: auto;
        margin-right: auto;
    }

        /* Encabezados */
        .content-wrapper h2 {
            color: var(--primary-turquoise);
            margin-bottom: 20px;
        }

    /* Tabla */
    .table thead.table-dark th {
        background-color: var(--primary-turquoise) !important;
        border-color: var(--primary-turquoise) !important;
    }

    .table-bordered > :not(caption) > * > * {
        border-color: var(--secondary-turquoise) !important;
    }

    /* Botones */
    .btn-primary {
        background-color: var(--primary-turquoise);
        border-color: var(--primary-turquoise);
        color: #fff;
    }

        .btn-primary:hover {
            background-color: var(--hover-turquoise);
            border-color: var(--hover-turquoise);
        }

    .btn-info {
        background-color: var(--secondary-turquoise);
        border-color: var(--secondary-turquoise);
        color: #fff;
    }

        .btn-info:hover {
            background-color: var(--hover-turquoise);
            border-color: var(--hover-turquoise);
        }

    /* Filas PDF */
    .pdf-row {
        position: relative;
    }

    .file-name {
        display: block;
        font-weight: bold;
    }

    .action-buttons {
        display: none;
        margin-top: 5px;
    }

    .pdf-row:hover .action-buttons {
        display: inline-block;
    }

    /* Scrollbar (opcional) */
    .button-container::-webkit-scrollbar {
        width: 8px;
    }

    .button-container::-webkit-scrollbar-track {
        background: #f1f1f1;
    }

    .button-container::-webkit-scrollbar-thumb {
        background: var(--primary-turquoise);
        border-radius: 4px;
    }

        .button-container::-webkit-scrollbar-thumb:hover {
            background: var(--hover-turquoise);
        }
    .custom-btn {
        background-color: #0b7b82 !important;
        color: white !important;
        border: none;
        padding: 12px 24px;
        border-radius: 8px;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        font-size: 16px;
        text-decoration: none;
        transition: background 0.3s ease, transform 0.2s ease;
        box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
    }
</style>
