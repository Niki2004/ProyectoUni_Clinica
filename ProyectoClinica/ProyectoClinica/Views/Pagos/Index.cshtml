@model IEnumerable<ProyectoClinica.Models.Pagos>

@{
    ViewBag.Title = "Pagos";
}

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestión de Pagos</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="~/CSS/Tablas.css" rel="stylesheet" />

</head>
<body>
    <div class="container">
        <div class="header-container">
            <div>
                <a href="@Url.Action("VistaCON", "Contabilidad")" class="btn-inicio">
                    <i class="fas fa-home"></i> Inicio
                </a>
                <div class="page-title-container">
                    <h1 class="page-title">Gestión de Pagos</h1>
                </div>
            </div>
            <a href="@Url.Action("Create")" class="btn-crear-pago">
                <i class="fas fa-plus-circle"></i> Crear Nuevo Pago
            </a>
        </div>

       
        <!-- Tarjetas de Pagos -->
        <div class="cards-container">
            @foreach (var item in Model)
            {
                <div class="payment-card">
                    <div class="card-status-chip @(item.Estado_Pago == "Pagado" ? "status-pagado" :
                                                item.Estado_Pago == "Pendiente" ? "status-pendiente" :
                                                item.Estado_Pago == "Cancelado" ? "status-cancelado" : "")">
                        @item.Estado_Pago
                    </div>
                    <div class="card-header">
                        <div class="card-id">Ref: @item.Numero_Referencia</div>
                        <div class="card-date">@item.Fecha_Pago.ToString("dd/MM/yyyy")</div>
                    </div>
                    <div class="card-body">
                        <div class="card-amount">
                            <i class="fas">₡</i> @item.Monto
                        </div>
                        <div class="card-info">
                            <div class="info-label">Tipo:</div>
                            <div class="info-value">@item.Tipo_Pago</div>
                        </div>
                        <div class="card-info">
                            <div class="info-label">Beneficiario:</div>
                            <div class="info-value">@item.Beneficiario</div>
                        </div>
                        <div class="card-info">
                            <div class="info-label">Descripción:</div>
                            <div class="info-value">@item.Descripcion</div>
                        </div>
                        <div class="card-info">
                            <div class="info-label">ID Banco:</div>
                            <div class="info-value">@item.Id_Banco</div>
                        </div>
                    </div>
                    <div class="card-footer">
                        <div class="card-user">
                            <i class="fas fa-user"></i> @item.Usuario_Registro
                        </div>
                        <a href="@Url.Action("Details", new { id = item.Id_Pago })" class="btn-action">
                            <i class="fas fa-info-circle"></i> Detalle
                        </a>
                    </div>
                </div>
            }
            @if (!Model.Any())
            {
                <div class="empty-state" style="grid-column: 1 / -1;">
                    <i class="fas fa-file-invoice"></i>
                    <p>No se encontraron pagos registrados</p>
                    <a href="@Url.Action("Create")" class="btn-crear-pago">
                        <i class="fas fa-plus-circle"></i> Crear Nuevo Pago
                    </a>
                </div>
            }
        </div>

        <!-- Paginación -->
        @if (Model.Any())
        {
            <div class="pagination">
                <a class="page-item"><i class="fas fa-chevron-left"></i></a>
                <a class="page-item active">1</a>
                <a class="page-item">2</a>
                <a class="page-item">3</a>
                <a class="page-item"><i class="fas fa-chevron-right"></i></a>
            </div>
        }
    </div>
</body>
</html>